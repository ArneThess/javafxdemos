<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head>
<title></title>
<style type="text/css">
    <!--code { font-family: Courier New, Courier; font-size: 10pt; margin: 0px; }-->
</style>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
</head><body>
<div align="left" class="java">
    <table border="0" cellpadding="3" cellspacing="0" bgcolor="#ffffff">
        <tr>
            <td nowrap="nowrap" valign="top" align="left">
                <code>
                    <font color="#3f7f5f">/*</font><br />
                    <font color="#ffffff">&nbsp;</font><font color="#3f7f5f">*&nbsp;Main.fx</font><br />
                    <font color="#ffffff">&nbsp;</font><font color="#3f7f5f">*</font><br />
                    <font color="#ffffff">&nbsp;</font><font color="#3f7f5f">*&nbsp;Created&nbsp;on&nbsp;11&nbsp;Apr,&nbsp;2009,&nbsp;9:56:06&nbsp;AM</font><br />
                    <font color="#ffffff">&nbsp;</font><font color="#3f7f5f">*/</font><br />
                    <font color="#ffffff"></font><br />
                    <font color="#7f0055"><b>package&nbsp;</b></font><font color="#000000">loadimage;</font><br />
                    <font color="#ffffff"></font><br />
                    <font color="#7f0055"><b>import&nbsp;</b></font><font color="#000000">javafx.scene.Group;</font><br />
                    <font color="#7f0055"><b>import&nbsp;</b></font><font color="#000000">javafx.scene.image.Image;</font><br />
                    <font color="#7f0055"><b>import&nbsp;</b></font><font color="#000000">javafx.scene.image.ImageView;</font><br />
                    <font color="#7f0055"><b>import&nbsp;</b></font><font color="#000000">javafx.scene.paint.Color;</font><br />
                    <font color="#7f0055"><b>import&nbsp;</b></font><font color="#000000">javafx.scene.Scene;</font><br />
                    <font color="#7f0055"><b>import&nbsp;</b></font><font color="#000000">javafx.scene.shape.Rectangle;</font><br />
                    <font color="#7f0055"><b>import&nbsp;</b></font><font color="#000000">javafx.scene.text.Font;</font><br />
                    <font color="#7f0055"><b>import&nbsp;</b></font><font color="#000000">javafx.scene.text.Text;</font><br />
                    <font color="#7f0055"><b>import&nbsp;</b></font><font color="#000000">javafx.stage.Stage;</font><br />
                    <font color="#7f0055"><b>import&nbsp;</b></font><font color="#000000">javafx.stage.StageStyle;</font><br />
                    <font color="#ffffff"></font><br />
                    <font color="#3f5fbf">/**</font><br />
                    <font color="#ffffff">&nbsp;</font><font color="#3f5fbf">*&nbsp;</font><font color="#7f9fbf">@author&nbsp;</font><font color="#3f5fbf">Rakesh&nbsp;Menon</font><br />
                    <font color="#ffffff">&nbsp;</font><font color="#3f5fbf">*/</font><br />
                    <font color="#ffffff"></font><br />
                    <font color="#000000">var&nbsp;sceneWidth&nbsp;=&nbsp;</font><font color="#990000">300</font><font color="#000000">;</font><br />
                    <font color="#000000">var&nbsp;sceneHeight&nbsp;=&nbsp;</font><font color="#990000">225</font><font color="#000000">;</font><br />
                    <font color="#ffffff"></font><br />
                    <font color="#3f7f5f">//&nbsp;Load&nbsp;specified&nbsp;image&nbsp;in&nbsp;background&nbsp;thread</font><br />
                    <font color="#000000">var&nbsp;imageView&nbsp;=&nbsp;ImageView&nbsp;</font><font color="#000000">{</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">image:&nbsp;Image&nbsp;</font><font color="#000000">{</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">url:&nbsp;</font><font color="#2a00ff">&#34;http://farm4.static.flickr.com/3077/2365118433_ccb790041d_o_d.jpg&#34;</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">backgroundLoading:&nbsp;</font><font color="#7f0055"><b>true</b></font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">placeholder:&nbsp;Image&nbsp;</font><font color="#000000">{</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">url:&nbsp;</font><font color="#2a00ff">&#34;http://farm4.static.flickr.com/3077/2365118433_593ca9c5d5_t_d.jpg&#34;</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">fitWidth:&nbsp;sceneWidth</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">fitHeight:&nbsp;sceneHeight</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#3f7f5f">//&nbsp;Preserve&nbsp;Aspect&nbsp;Ratio</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">preserveRatio:&nbsp;</font><font color="#7f0055"><b>true</b></font><br />
                    <font color="#000000">}</font><br />
                    <font color="#3f7f5f">//&nbsp;Bind&nbsp;to&nbsp;Image.progress&nbsp;and&nbsp;print&nbsp;the&nbsp;progress</font><br />
                    <font color="#000000">var&nbsp;progress&nbsp;=&nbsp;bind&nbsp;imageView.image.progress&nbsp;on&nbsp;replace&nbsp;</font><font color="#000000">{</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">println</font><font color="#000000">(</font><font color="#2a00ff">&#34;progress&nbsp;{progress}&#34;</font><font color="#000000">)</font><font color="#000000">;</font><br />
                    <font color="#000000">}</font><br />
                    <font color="#ffffff"></font><br />
                    <font color="#3f7f5f">//&nbsp;ProgressBar</font><br />
                    <font color="#000000">var&nbsp;progressBar&nbsp;=&nbsp;Group&nbsp;</font><font color="#000000">{</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">content:&nbsp;</font><font color="#000000">[</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">Rectangle&nbsp;</font><font color="#000000">{</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">x:&nbsp;</font><font color="#990000">10</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">y:&nbsp;</font><font color="#000000">(</font><font color="#000000">sceneHeight&nbsp;-&nbsp;</font><font color="#990000">10</font><font color="#000000">)</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">width:&nbsp;</font><font color="#000000">(</font><font color="#000000">sceneWidth&nbsp;-&nbsp;</font><font color="#990000">20</font><font color="#000000">)</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">height:&nbsp;</font><font color="#990000">5</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">arcWidth:&nbsp;</font><font color="#990000">5</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">arcHeight:&nbsp;</font><font color="#990000">5</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">fill:&nbsp;Color.GRAY</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><font color="#000000">,</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">Rectangle&nbsp;</font><font color="#000000">{</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">x:&nbsp;</font><font color="#990000">11</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">y:&nbsp;</font><font color="#000000">(</font><font color="#000000">sceneHeight&nbsp;-&nbsp;</font><font color="#990000">9</font><font color="#000000">)</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#3f7f5f">//&nbsp;Change&nbsp;width&nbsp;of&nbsp;rectangle&nbsp;proportional&nbsp;to&nbsp;image&nbsp;progress</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">width:&nbsp;bind&nbsp;</font><font color="#000000">((</font><font color="#000000">sceneWidth&nbsp;-&nbsp;</font><font color="#990000">20</font><font color="#000000">)&nbsp;</font><font color="#000000">*&nbsp;progress</font><font color="#000000">)</font><font color="#000000">/</font><font color="#990000">100.0</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">height:&nbsp;</font><font color="#990000">3</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">arcWidth:&nbsp;</font><font color="#990000">5</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">arcHeight:&nbsp;</font><font color="#990000">5</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">fill:&nbsp;Color.RED</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><font color="#000000">,</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">Text&nbsp;</font><font color="#000000">{</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">translateX:&nbsp;</font><font color="#000000">((</font><font color="#000000">sceneWidth&nbsp;-&nbsp;</font><font color="#990000">20</font><font color="#000000">)</font><font color="#000000">/</font><font color="#990000">2.0</font><font color="#000000">)</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">translateY:&nbsp;</font><font color="#000000">(</font><font color="#000000">sceneHeight&nbsp;-&nbsp;</font><font color="#990000">20</font><font color="#000000">)</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">font:&nbsp;Font&nbsp;</font><font color="#000000">{</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">name:&nbsp;</font><font color="#2a00ff">&#34;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Bold&#34;</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">size:&nbsp;</font><font color="#990000">12</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">fill:&nbsp;Color.WHITE</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">content:&nbsp;bind&nbsp;</font><font color="#2a00ff">&#34;{progress&nbsp;as&nbsp;Integer}%&#34;</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">]</font><br />
                    <font color="#000000">}</font><br />
                    <font color="#ffffff"></font><br />
                    <font color="#000000">Stage&nbsp;</font><font color="#000000">{</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">scene:&nbsp;Scene&nbsp;</font><font color="#000000">{</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">content:&nbsp;</font><font color="#000000">[&nbsp;</font><font color="#000000">imageView,&nbsp;progressBar&nbsp;</font><font color="#000000">]</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">width:&nbsp;sceneWidth</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">height:&nbsp;sceneHeight</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">fill:&nbsp;Color.BLACK</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">resizable:&nbsp;</font><font color="#7f0055"><b>false</b></font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">title:&nbsp;</font><font color="#2a00ff">&#34;Load&nbsp;Image...&#34;</font><br />
                    <font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">style:&nbsp;StageStyle.UNDECORATED</font><br />
                    <font color="#000000">}
                    </font>
                </code>    
            </td>
        </tr>
    </table>
</div>
</body>
</html>
